# BanGround内测 Q&A手册

欢迎各位BanGrounder参加BanGround先行内测

本次内测为封闭测试，请各位自己体验游戏交互、美术等方面，并给我们提出您宝贵的合理的意见或建议，您的支持会让这个游戏变得更好

特别提示：请您仔细阅读群公告与Q&A手册的内容，**询问群公告与Q&A手册中已有内容将会受到警告**，Q&A手册可以解答您的大部分疑问

由于手册更新有延迟，最新动态**以群内公告为准**

先行内测主要测试游戏本体，谱面相关问题恕不解答

内测报名人数较多，且为了能更好地完成测试任务，本群将定期清理不活跃的内测用户

_不活跃：指两周内没有登录游戏的记录_

## 安装游戏

**先看群公告**，群公告告知了游戏的最新版本

### 安卓

在内测群的群文件中，找到**Android**文件夹，从里面下载最新版本安装

### iOS

1. 越狱设备

	在内测群的群文件中，找到**iOS**文件夹，从里面下载ipa文件直接安装

2. 非越狱设备
	
	在内测群的群文件中，找到**iOS**文件夹，从里面下载ipa文件，然后通过以下方式安装

	1. 使用AltStore自行签名安装(推荐，**需要**电脑)

	<details>
		<summary>使用AltStore签名教程</summary>
		
		#### 所需软件
		
		1. AltStore([https://altstore.io/](https://altstore.io/))
		2. iTunes([https://www.apple.com.cn/itunes/](https://www.apple.com.cn/itunes/))
		3. iCloud([https://support.apple.com/zh-cn/HT204283](https://support.apple.com/zh-cn/HT204283))
		
		#### 安装Altstore
		
		1. 安装完成后运行电脑上的AltStore(运行后会出现在任务栏)
		2. 在您的iOS设备上信任连接的电脑(首次连接电脑可能需要)
		3. 打开iTunes，启用“通过Wi-Fi与此iPhone/iPad同步”
		4. 点击任务栏的AltStore图标，点击“Install AltStore”并选择您的设备进行安装
		5. 在弹出的窗口登陆您的AppleID以完成安装
		
		#### 通过Altstore安装BanGround
		
		1. 在内测群的群文件中，找到**iOS**文件夹，从里面下载ipa文件并传输到您设备内
		2. 在设备中找到您下载的ipa，点击“用其他应用打开”。
		3. 找到并选择“拷贝到‘AltStore’”
		4. 在Altstore中输入安装时的AppleID进行登陆，等待片刻即可完成安装
		
		#### 注意事项
		
		- Altstore的签名有效期为7天。电脑端AltStore运行时，如果您的iOS设备处于同一无线网络下AltStore即可自动续签

	</details>

	2. 使用Appcake代为签名安装(不稳定，**不需要**电脑)

		请下载安装AppCake后用AppCake打开ipa文件
		
		> AppCake下载地址(需要Safari打开)：[https://iphonecake.com](https://iphonecake.com)

		*注意：由于Appcake企业签名的的不稳定，偶尔会出现掉签情况，掉签后可能一段时间内无法恢复签名的使用。并且在Appcake签名恢复后您需要完整卸载Appcake与BanGround后重新安装，这也就意味着**您会丢失所有用户数据**。*
		
	3. 使用Mac自行签名安装(较麻烦，**需要**电脑)

	<details>
		<summary>通过macOS自签教程</summary>
		
		如果您没有Mac，以下步骤需要从头看起
		
		如果您有Mac，请跳转至步骤6`安装ipa文件`
		
		#### 所需软件
		
		1. vmware 15 pro
		2. macOS 10.15镜像
		3. vm unlock插件
		4. darwin.iso
		
		需要的软件放在百度网盘，镜像大小10G
		
		链接: [https://pan.baidu.com/s/1Pulz57HRww9ZB_mCw4yAzg](https://pan.baidu.com/s/1Pulz57HRww9ZB_mCw4yAzg) 提取码: 6yan
		
		#### 安装步骤
		1. vmware的安装
		
			自行百度，安装完成后不要打开，接下来还要安装插件
		
		2. 安装插件
		
			1. 解压unlock-master.zip文件，右键管理员方式运行win-install.cmd
			2. 等待运行完成后win-install.cmd自动关闭
		
		3. 新建虚拟机
		
			点击下一步时选择cdr格式的镜像，安装时选择mac os，版本号选择10.15
			然后等待安装完毕即可
		
		4. 安装vmware tool
		
			载入darwin.iso，安装完毕后点击重启即可
		
		5. 配置vmware(需要在关闭虚拟机情况下进行设置)
		
			- 网络配置：选择桥接模式
			- USB控制器：USB兼容性选择USB2.0
		
		6. 安装ipa文件
		
			1. 登录邮箱，登陆完成后进邮箱设置
			2. 开启邮箱插件，应用即可
			3. 下载NullXImpactor
			4. 打开应用，把ipa文件拖动到该软件中，点击install
			5. 输入帐号密码，等待安装完成
		
	</details>
        4. 使用爱思助手自行签名安装(推荐，**需要**电脑)
	
	<details>
	        <summary>使用爱思助手签名教程</summary>
	        
		如果您无法安装Altstore，则可以通过以下步骤安装BanGround
	        #### 所需软件
	
	        爱思助手：[https://www.i4.cn/pros.html](https://www.i4.cn/pros.html)
		
	        #### 安装爱思助手
		
	        请自行百度
		
	        #### 通过爱思助手为BanGround签名
	        
		##### 准备工作
		
		1. 在内测群的群文件中，找到**iOS**文件夹，从里面下载ipa文件	
		2. 将您的手机/iPad连接电脑后打开爱思助手，找到**设备标识(UDID)**并点击复制
		3. 点击**工具箱**页面，在“更多工具”中找到**IPA签名**并点击
		4. 点击“使用Apple ID签名”，找到**添加Apple ID**并点选，输入您的Apple ID账号密码，并将刚刚复制好的UDID输入第三行中
		
		##### 正式签名
		
		1. 点击左上角的**添加IPA文件**，导入BanGround游戏本体并点击游戏图标前面的方框
		2. 点击右下角的**开始签名**，等待签名完成
		
		#### 通过爱思助手安装BanGround
		
		1. 点击**我的设备**，找到**应用游戏**
		2. 点击**导入安装**，导入签名后的游戏本体，等待安装完成
		
		#### 注意事项
		
		- 爱思助手的签名有效期为7天。超过签名有效期后，需要您重新按照“正式签名”内的步骤重新签名，并重新覆盖安装
	</details>
***由于不明原因，证书版会出现掉签的情况，所以不再提供证书版下载，原先购买证书版的可以选择退款或等社区建设完成后可以获得额外1个月Supporter Ⅳ资格作为补偿***


### Windows

在内测群的群文件中，找到**Windows**文件夹，从里面下载最新版本安装

## 进入游戏

安装好游戏后，点击游戏图标启动游戏。启动游戏需要**社区账号**

社区地址：[https://banground.live/](https://banground.live/)

注册社区账号需要邀请码

获取邀请码请在内测群使用`申请邀请码`指令，机器人会将密钥通过私聊的形式发送给你

邀请码遗忘或丢失请使用`查询邀请码`指令查询您的邀请码

## 获取/导入谱面

### 获取谱面

1. 群文件

	内测群的群文件的**测试导入包**文件夹里，有各种各样的谱面可以下载测试

2. 群机器人

	你可以在群里或私聊**一只摸鱼的鱼**使用`小站`指令，它会告诉你小站的地址。你可以在里面下载谱面

	你也可以使用[kirapack下载指令](#小鱼)

3. Windows 端转谱器

	可以转换 bestdori，官谱，bangbangboom v2

通过以上途径得到的文件是以`.kirapack`作为后缀的文件

### 导入谱面

#### 安卓

下载后直接打开文件，文件类型选择**其它**，然后在应用列表里使用**BanGround-Unity**打开

如果你之前启动了游戏没有退出，请开始一次演出后退出，或重启游戏，谱面就会自动加载了

如果找不到直接打开的选项，请尝试把kirapack文件手动移动到以下路径：
```
/Android/data/fun.BanGround.Game/files/Inbox/
```
然后启动游戏

#### iOS

下载后直接打开文件，选择`拷贝到BanGround-Unity`，然后启动游戏

也可以使用`隔空投送`，但请确保游戏没有在前台启动

如果无法导入，请打开Files应用，尝试把kirapack文件移动到以下路径：
```
我的iPhone/iPad > BanGround
```
然后启动游戏

#### Windows

先运行一次游戏，谱面下载后直接打开文件

如果你之前启动了游戏没有退出，请开始一次演出后退出，或重启游戏，谱面就会自动加载了

如果直接打开文件没有成功导入，请尝试把kirapack文件手动移动到以下路径：
```
%LocalAppdata%Low\Kirakira Games\BanGround-Unity\InBox
```
然后启动游戏

## 延迟调节

目前还没有可视化调节延迟的选项，需要根据自己平时的经验进行调节

您也可以尝试下列的任一方法进行调节：

1. **设置**的**判定**选项卡里，调节**音频偏移**，效果为BanG Dream本家的17倍

2. **设置**的**判定**选项卡里，打开**显示PERFECT的E/L**选项。进入游戏正常游玩后，观察结算界面的 Early/Late 数目和平均偏移，遵循**Early多调大，Late多调小**的原则调节**音频偏移**，**Early多调小，Late多调大**的原则调节**判定偏移**，直至数目和平均偏移相近为止

3. **设置**的**判定**选项卡里，将**音频偏移**和**判定偏移**均设置为0，关闭**显示 PERFECT的E/L**选项。进入游戏正常游玩后，观察结算界面的 Early/Late 数目和平均偏移，按以下公式计算得到**判定偏移**的值：

$$
judge=\begin{cases}
\overline{Early}-40,\overline{Early}>\overline{Late} \\
40-\overline{Late},\overline{Early}\leq\overline{Late} \\
\end{cases}
$$

4. 打击音延迟大请尝试减小缓冲区

_注意：调节偏移的单位为毫秒，使用“Offset Rhythm Test”谱面进行上述调节可以获得更好的效果_

## 爆音/没有声音

1. 调整缓冲区

	调大缓冲区，建议调整到无爆音的最小值

2. 切换音频引擎

	在**设置**的**声音**选项卡里，选择另一个音频引擎，然后重启再试

3. 使用群文件里的**爆音修复版(fmod1)**

_注意：以上选项变更后都需要重启游戏_ 


## 其他问题

小站相关问题请找猫猫

kirapack导入失败请在群里附上错误信息截图

**游戏本体其他问题请自行提交issue：[https://github.com/BanGround/BanGround-Unity/issues](https://github.com/BanGround/BanGround-Unity/issues)** 或通过机器人提交

*始终推荐自行提交，支持markdown，通过机器人提交issue请不要试图使用特殊格式(html/markdown/etc)，还会有奇怪的bug*

##### 通过机器人提交issue

1. 在群里发送`/issue create`，然后与机器人私聊

2. 根据机器人提示依次发送**问题标题**、**问题描述**、**如何复现问题**、**设备信息**、**补充截图**、**确认发送**

- 您可以通过机器人收到issue的最新动态

[_更多机器人指令_](#issue-相关)

## 群机器人指令

### ⑨bot

`/help` 获取机器人帮助

#### auth key 相关

> ⑨bot的auth key命令已弃用，请查看小鱼的auth key命令

`/auth register` 注册用户

`/auth view` 查看所拥有的key(获得以下指令id参数)

`/auth login [id]` 查询最近登陆信息

`/auth clear [id]` 清除设备信息

#### issue 相关

`/issue create` 创建issue

`/issue create` 创建issue

`/issue list` 查看我创建的issue(获得以下指令id参数)

`/issue view <id>` 查看issue详情

`/issue comment <id>` 评论并订阅issue

`/issue unsubscribe <id>` 取消订阅issue(创建者不能取消订阅)

### 小鱼

#### auth key相关

`注册内测`或`register_tester` 注册获得内测资格

`获取密钥`或`新增密钥`或`add_authkey` 获取一个新的登录密钥

`查询密钥`或`view` 检查已获取的所有登录密钥

`解绑密钥 <id>`或`解除绑定 <id>`或`解绑 <id>`或`unbound <id>`或`clear <id>` 将一个密钥与当前绑定的设备解绑。此处的id请通过“查询密钥”指令获取

`查询登录信息`或`登录信息`或`login` 查询直到目前的持有密钥数和登录次数

#### kirapack相关

`kirapack <谱面id> [预览起始时间(秒) 预览终止时间(秒) 背景图片链接]`转换Bestdori上的谱面为kirapack，提供下载链接，并登录到[小站](http://212.64.10.35/#/list)上以供搜索、浏览、下载

`kkp <谱面id>`查询Bestdori!上的谱面信息

## 其他资源

- 游戏Wiki：[https://wiki.banground.fun](https://wiki.banground.fun)

- 项目进展：[https://github.com/orgs/BanGround/projects/2](https://github.com/orgs/BanGround/projects/2)

- ebbb在线制谱器：[https://editor.bangbangboom.moe/](https://editor.bangbangboom.moe/)   

	[_ebbb国内线路_](https://reikohaku.gitee.io/ebbb)

- 摸鱼小站：[http://212.64.10.35/](http://212.64.10.35/)

***

手册版本：V1.6.0

更新日期：2020/05/19
